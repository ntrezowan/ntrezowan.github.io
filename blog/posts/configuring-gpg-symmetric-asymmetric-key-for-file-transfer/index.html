<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
  Configuring GPG Symmetric/Asymmetric Key for File Transfer · johndoeyo
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="John De">
<meta name="description" content="Symmetric key encryption Link to heading Create a sample text file which will be encrypted;
# echo Plain Text &gt; input.txt # cat input.txt Plain Text Encrypt input.txt file;
# gpg -c input.txt gpg: directory `/home/user1/.gnupg&#39; created gpg: new configuration file `/home/user1/.gnupg/gpg.conf&#39; created gpg: WARNING: options in `/home/user1/.gnupg/gpg.conf&#39; are not yet active during this run If you are using GPG for the first time on this server, it will ask to set a passphrase.">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Configuring GPG Symmetric/Asymmetric Key for File Transfer"/>
<meta name="twitter:description" content="Symmetric key encryption Link to heading Create a sample text file which will be encrypted;
# echo Plain Text &gt; input.txt # cat input.txt Plain Text Encrypt input.txt file;
# gpg -c input.txt gpg: directory `/home/user1/.gnupg&#39; created gpg: new configuration file `/home/user1/.gnupg/gpg.conf&#39; created gpg: WARNING: options in `/home/user1/.gnupg/gpg.conf&#39; are not yet active during this run If you are using GPG for the first time on this server, it will ask to set a passphrase."/>

<meta property="og:title" content="Configuring GPG Symmetric/Asymmetric Key for File Transfer" />
<meta property="og:description" content="Symmetric key encryption Link to heading Create a sample text file which will be encrypted;
# echo Plain Text &gt; input.txt # cat input.txt Plain Text Encrypt input.txt file;
# gpg -c input.txt gpg: directory `/home/user1/.gnupg&#39; created gpg: new configuration file `/home/user1/.gnupg/gpg.conf&#39; created gpg: WARNING: options in `/home/user1/.gnupg/gpg.conf&#39; are not yet active during this run If you are using GPG for the first time on this server, it will ask to set a passphrase." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.example.com/posts/configuring-gpg-symmetric-asymmetric-key-for-file-transfer/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-12T01:18:37-05:00" />
<meta property="article:modified_time" content="2017-12-12T01:18:37-05:00" />




<link rel="canonical" href="http://www.example.com/posts/configuring-gpg-symmetric-asymmetric-key-for-file-transfer/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.36f76aaf39a14ecf5c3a3c6250dcaf06c238b3d8365d17d646f95cb1874e852b.css" integrity="sha256-NvdqrzmhTs9cOjxiUNyvBsI4s9g2XRfWRvlcsYdOhSs=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css" integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">




<meta name="generator" content="Hugo 0.110.0">





  </head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      johndoeyo
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://www.example.com/posts/configuring-gpg-symmetric-asymmetric-key-for-file-transfer/">
              Configuring GPG Symmetric/Asymmetric Key for File Transfer
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2017-12-12T01:18:37-05:00">
                Dec 12, 2017
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <h3 id="symmetric-key-encryption">
  Symmetric key encryption
  <a class="heading-link" href="#symmetric-key-encryption">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p>Create a sample text file which will be encrypted;</p>
<pre><code> # echo Plain Text &gt; input.txt

 # cat input.txt 
 Plain Text
</code></pre>
</li>
<li>
<p>Encrypt <code>input.txt</code> file;</p>
<pre><code> # gpg -c input.txt
 gpg: directory `/home/user1/.gnupg' created
 gpg: new configuration file `/home/user1/.gnupg/gpg.conf' created
 gpg: WARNING: options in `/home/user1/.gnupg/gpg.conf' are not yet active during this run
</code></pre>
<p>If you are using GPG for the first time on this server, it will ask to set a passphrase. Choose a passphrase (this will be the symmetric key) and it will confirm that the key has been created;</p>
<pre><code> gpg: keyring `/home/user1/.gnupg/pubring.gpg' created
</code></pre>
<p>The newly created key is located here;</p>
<pre><code> # ls ~/.gnupg/
 gpg.conf  private-keys-v1.d  pubring.gpg  random_seed  S.gpg-agent
</code></pre>
</li>
<li>
<p>The encrypted file will have <code>.gpg</code> extension. Check if the file is encrypted;</p>
<pre><code> # cat input.txt.gpg 
 �g�E|u�X��+R��l��*�u����t       �Cy��
 ���rg�s�6d
</code></pre>
<p>Now you can send this file to anyone and only they can decrypt it if they know the symmetric key/passphrase.</p>
</li>
<li>
<p>To decrypt the file, do the following;</p>
<pre><code> # gpg -o output.txt input.txt.gpg 
 gpg: CAST5 encrypted data
 gpg: encrypted with 1 passphrase
 gpg: WARNING: message was not integrity protected
</code></pre>
</li>
<li>
<p>To verify if the file has decrypted correct, do the following;</p>
<pre><code> # cat output.txt
 Plain Text
</code></pre>
</li>
</ol>
<hr>
<h3 id="asymmetric-key-encryption">
  Asymmetric Key encryption
  <a class="heading-link" href="#asymmetric-key-encryption">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>
<p>To use asymmetric encryption, we first need to create a public-private key pair. Run the following to create a pair;</p>
<pre><code> # gpg --gen-key
 gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc.
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.

 Please select what kind of key you want:
    (1) RSA and RSA (default)
    (2) DSA and Elgamal
    (3) DSA (sign only)
    (4) RSA (sign only)
 Your selection? 1
 RSA keys may be between 1024 and 4096 bits long.
 What keysize do you want? (2048) 
 Requested keysize is 2048 bits
 Please specify how long the key should be valid.
          0 = key does not expire
       &lt;n&gt;  = key expires in n days
       &lt;n&gt;w = key expires in n weeks
       &lt;n&gt;m = key expires in n months
       &lt;n&gt;y = key expires in n years
 Key is valid for? (0) 0
 Key does not expire at all
 Is this correct? (y/N) y

 GnuPG needs to construct a user ID to identify your key.

 Real name: user1
 Email address: user1@example.com
 Comment: 
 You selected this USER-ID:
     &quot;user1 &lt;user1@example.com&gt;&quot;

 Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
 You need a Passphrase to protect your secret key.
</code></pre>
<p>At this point it will ask for a passphrase. This is the passphrase which you will use to decrypt encrypted files send to you along with your private key. You should not share this passphrase and private key with anyone.</p>
<pre><code> We need to generate a lot of random bytes. It is a good idea to perform
 some other action (type on the keyboard, move the mouse, utilize the
 disks) during the prime generation; this gives the random number
 generator a better chance to gain enough entropy.
 We need to generate a lot of random bytes. It is a good idea to perform
 some other action (type on the keyboard, move the mouse, utilize the
 disks) during the prime generation; this gives the random number
 generator a better chance to gain enough entropy.
 gpg: /home/user1/.gnupg/trustdb.gpg: trustdb created
 gpg: key C56171B8 marked as ultimately trusted
 public and secret key created and signed.

 gpg: checking the trustdb
 gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
 gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
 pub   2048R/C56171B8 2019-12-18   
       Key fingerprint = 148D B70C 7D30 5DED 6EDC  FB54 F90F 870A C561 71B8
 uid                  user1 &lt;user1@example.com&gt;
 sub   2048R/78C8F6D8 2019-12-18   
</code></pre>
<p>The newly created pair is located here;</p>
<pre><code> # ls ~/.gnupg/
 gpg.conf  private-keys-v1.d  pubring.gpg  pubring.gpg~  random_seed  secring.gpg  S.gpg-agent  trustdb.gpg
</code></pre>
</li>
<li>
<p>To see all the GPG keys;</p>
<pre><code> # gpg --list-keys
 /home/user1/.gnupg/pubring.gpg
 -----------------------------------
 pub   2048R/C56171B8 2019-12-18   
 uid                  user1 &lt;user1@example.com&gt;
 sub   2048R/78C8F6D8 2019-12-18   
</code></pre>
</li>
<li>
<p>To encrypt <code>input.txt</code> with this new asymmetric key, do the following;</p>
<pre><code> gpg --encrypt --recipient user1@example.com input.txt
</code></pre>
</li>
<li>
<p>To decrypt a file using your private key and passphrase, do the following;</p>
<pre><code> # gpg --output output.txt --decrypt input.txt.gpg 

 You need a passphrase to unlock the secret key for
 user: &quot;user1 &lt;user1@example.com&gt;&quot;
 2048-bit RSA key, ID 78C8F6D8, created 2019-12-18   (main key ID C56171B8)

 gpg: encrypted with 2048-bit RSA key, ID 78C8F6D8, created 2019-12-18   
       &quot;user1 &lt;user1@example.com&gt;&quot;
</code></pre>
</li>
<li>
<p>If you want to export your public key, do the following;</p>
<pre><code> gpg --armor --output public_key.cer --export 'user1@example.com'
</code></pre>
</li>
<li>
<p>If you want to export your private key for backup purposes or anything else, do the following;</p>
<pre><code> # gpg --armor --output private_key.asc --export-secret-keys 'user1@example.com'
</code></pre>
</li>
<li>
<p>To check when the key will expire;</p>
<pre><code> # gpg --edit-key user1@example.com
 gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc.
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.

 Secret key is available.

 pub  2048R/C56171B8  created: 2019-12-18  expires: never       usage: SC  
                      trust: ultimate      validity: ultimate
 sub  2048R/78C8F6D8  created: 2019-12-18  expires: never       usage: E   
 [ultimate] (1). user1 user1@example.com
</code></pre>
</li>
<li>
<p>To check all contents of the public key ring;</p>
<pre><code> # gpg --check-sigs
 /home/user1/.gnupg/pubring.gpg
 -----------------------------------
 pub   2048R/C56171B8 2019-12-18   
 uid                  user1 &lt;user1@example.com&gt;
 sig!3        C56171B8 2019-12-18  user1 &lt;user1@example.com&gt;
 sub   2048R/78C8F6D8 2019-12-18  
 sig!         C56171B8 2019-12-18  user1 user1@example.com
</code></pre>
</li>
<li>
<p>To check all contents of the private key ring;</p>
<pre><code> # gpg --list-secret-keys
 /home/user1/.gnupg/secring.gpg
 -----------------------------------
 sec   2048R/C56171B8 2019-12-18  
 uid                  user1 &lt;user1@example.com&gt;
 ssb   2048R/78C8F6D8 2019-12-18  
</code></pre>
</li>
</ol>

      </div>


      <footer>
        


        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2023
     John De 
    ·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  
</body>

</html>
